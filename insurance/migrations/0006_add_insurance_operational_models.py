# Generated by Django 6.0 on 2025-12-18 21:20

import django.db.models.deletion
import django.utils.timezone
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('insurance', '0005_insurancestaff'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ServiceCategory',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('category_name', models.CharField(max_length=255)),
                ('category_code', models.CharField(max_length=50, unique=True)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='service_categories', to=settings.AUTH_USER_MODEL)),
                ('parent_category', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subcategories', to='insurance.servicecategory')),
            ],
            options={
                'db_table': 'service_categories',
            },
        ),
        migrations.CreateModel(
            name='FeeSchedule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('service_code', models.CharField(help_text='CPT, ICD, or internal code', max_length=50)),
                ('service_description', models.CharField(max_length=255)),
                ('usual_and_customary_rate', models.IntegerField(help_text='Typical market rate in XOF')),
                ('maximum_allowed_amount', models.IntegerField(help_text='Max amount insurance will consider')),
                ('contracted_rate', models.IntegerField(blank=True, help_text='Negotiated rate with providers', null=True)),
                ('geographic_modifier', models.DecimalField(decimal_places=2, default=1.0, help_text='Regional cost adjustment', max_digits=4)),
                ('effective_date', models.DateField(default=django.utils.timezone.now)),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fee_schedules', to=settings.AUTH_USER_MODEL)),
                ('service_category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fee_schedules', to='insurance.servicecategory')),
            ],
            options={
                'db_table': 'fee_schedules',
            },
        ),
        migrations.CreateModel(
            name='CoverageRule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('coverage_percentage', models.DecimalField(decimal_places=2, help_text='Percentage covered by insurance', max_digits=5)),
                ('max_coverage_per_service', models.IntegerField(blank=True, help_text='Max amount per service in XOF', null=True)),
                ('max_coverage_per_year', models.IntegerField(blank=True, help_text='Annual limit for this category', null=True)),
                ('waiting_period_days', models.IntegerField(default=0, help_text='Days before coverage starts')),
                ('requires_pre_authorization', models.BooleanField(default=False)),
                ('is_excluded', models.BooleanField(default=False, help_text='Service excluded from coverage')),
                ('exclusion_reason', models.TextField(blank=True)),
                ('conditions', models.TextField(blank=True, help_text='Special conditions or restrictions')),
                ('is_active', models.BooleanField(default=True)),
                ('effective_date', models.DateField(default=django.utils.timezone.now)),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='coverage_rules', to='insurance.insurancepackage')),
                ('service_category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='coverage_rules', to='insurance.servicecategory')),
            ],
            options={
                'db_table': 'coverage_rules',
            },
        ),
        migrations.CreateModel(
            name='ClaimAdjudicationRule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('rule_name', models.CharField(max_length=255)),
                ('rule_type', models.CharField(choices=[('coverage_check', 'Coverage Verification'), ('eligibility_check', 'Eligibility Check'), ('deductible_calculation', 'Deductible Calculation'), ('copay_calculation', 'Copay Calculation'), ('coinsurance_calculation', 'Coinsurance Calculation'), ('maximum_benefit_check', 'Maximum Benefit Check'), ('pre_authorization_check', 'Pre-Authorization Required'), ('duplicate_check', 'Duplicate Claim Check'), ('timely_filing', 'Timely Filing Check'), ('pricing_verification', 'Pricing Reasonableness')], max_length=50)),
                ('rule_code', models.CharField(max_length=50, unique=True)),
                ('priority_order', models.IntegerField(default=100, help_text='Lower numbers execute first')),
                ('rule_logic', models.JSONField(default=dict, help_text='Rule conditions and calculations')),
                ('auto_approve_threshold', models.IntegerField(blank=True, help_text='Auto-approve claims below this amount', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('description', models.TextField(blank=True)),
                ('error_message', models.TextField(blank=True, help_text='Message when rule fails')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='adjudication_rules', to=settings.AUTH_USER_MODEL)),
                ('applies_to_service_category', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='adjudication_rules', to='insurance.servicecategory')),
            ],
            options={
                'db_table': 'claim_adjudication_rules',
                'ordering': ['priority_order'],
            },
        ),
        migrations.CreateModel(
            name='UnderwritingApplication',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('application_number', models.CharField(max_length=100, unique=True)),
                ('status', models.CharField(choices=[('submitted', 'Submitted'), ('under_review', 'Under Review'), ('medical_exam_required', 'Medical Exam Required'), ('approved_standard', 'Approved - Standard Rate'), ('approved_rated', 'Approved - Rated (Higher Premium)'), ('approved_with_exclusions', 'Approved with Exclusions'), ('declined', 'Declined')], default='submitted', max_length=50)),
                ('submission_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('health_questionnaire_data', models.JSONField(default=dict)),
                ('pre_existing_conditions', models.JSONField(default=list)),
                ('medical_exam_required', models.BooleanField(default=False)),
                ('medical_exam_scheduled_date', models.DateField(blank=True, null=True)),
                ('medical_exam_completed', models.BooleanField(default=False)),
                ('medical_exam_results', models.JSONField(blank=True, default=dict)),
                ('risk_score', models.IntegerField(blank=True, help_text='Calculated risk score', null=True)),
                ('premium_rating_multiplier', models.DecimalField(decimal_places=2, default=1.0, max_digits=4)),
                ('final_premium_amount', models.IntegerField(blank=True, null=True)),
                ('exclusions_list', models.JSONField(blank=True, default=list)),
                ('decline_reason', models.TextField(blank=True)),
                ('underwriter_notes', models.TextField(blank=True)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('enrollment_request', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='underwriting', to='insurance.enrollmentrequest')),
                ('underwriter_assigned', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='underwriting_assignments', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'underwriting_applications',
            },
        ),
        migrations.CreateModel(
            name='RiskAssessment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('age_risk_score', models.IntegerField(default=0)),
                ('bmi_risk_score', models.IntegerField(default=0)),
                ('smoking_status', models.CharField(blank=True, choices=[('smoker', 'Smoker'), ('non_smoker', 'Non-Smoker'), ('former', 'Former Smoker')], max_length=20)),
                ('smoking_risk_score', models.IntegerField(default=0)),
                ('medical_history_risk_score', models.IntegerField(default=0)),
                ('family_history_risk_score', models.IntegerField(default=0)),
                ('occupation_risk_score', models.IntegerField(default=0)),
                ('lifestyle_risk_score', models.IntegerField(default=0)),
                ('total_risk_score', models.IntegerField(default=0)),
                ('risk_level', models.CharField(choices=[('very_low', 'Very Low Risk'), ('low', 'Low Risk'), ('moderate', 'Moderate Risk'), ('high', 'High Risk'), ('very_high', 'Very High Risk')], max_length=20)),
                ('chronic_conditions', models.JSONField(default=list)),
                ('high_risk_factors', models.JSONField(default=list)),
                ('recommended_exclusions', models.JSONField(blank=True, default=list)),
                ('recommended_premium_adjustment', models.DecimalField(decimal_places=2, default=1.0, max_digits=4)),
                ('assessment_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('assessed_by', models.CharField(default='AUTO', max_length=50)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('underwriting_application', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='risk_assessment', to='insurance.underwritingapplication')),
            ],
            options={
                'db_table': 'risk_assessments',
            },
        ),
        migrations.CreateModel(
            name='ClaimAdjudicationResult',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('adjudication_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('adjudication_status', models.CharField(choices=[('auto_approved', 'Auto-Approved'), ('auto_denied', 'Auto-Denied'), ('requires_review', 'Requires Manual Review'), ('pended', 'Pended for Information')], max_length=50)),
                ('total_billed_amount', models.IntegerField()),
                ('allowed_amount', models.IntegerField(help_text='Amount allowed per fee schedule')),
                ('deductible_applied', models.IntegerField(default=0)),
                ('copay_applied', models.IntegerField(default=0)),
                ('coinsurance_applied', models.IntegerField(default=0)),
                ('insurance_pays', models.IntegerField(help_text='Final amount insurance will pay')),
                ('patient_responsibility', models.IntegerField(help_text='Patient owes this amount')),
                ('reduction_reason', models.TextField(blank=True, help_text='Why billed amount was reduced')),
                ('rules_applied', models.JSONField(default=list, help_text='List of rules that were applied')),
                ('warnings', models.JSONField(blank=True, default=list)),
                ('errors', models.JSONField(blank=True, default=list)),
                ('requires_medical_review', models.BooleanField(default=False)),
                ('requires_fraud_review', models.BooleanField(default=False)),
                ('processing_time_seconds', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True)),
                ('adjudicated_by', models.CharField(default='AUTO', help_text='System or staff member', max_length=50)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('claim', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='adjudication_result', to='insurance.insuranceclaim')),
            ],
            options={
                'db_table': 'claim_adjudication_results',
                'indexes': [models.Index(fields=['adjudication_status'], name='claim_adjud_adjudic_e8b4dc_idx'), models.Index(fields=['requires_medical_review'], name='claim_adjud_require_bcc15d_idx'), models.Index(fields=['adjudication_date'], name='claim_adjud_adjudic_b8c016_idx')],
            },
        ),
        migrations.CreateModel(
            name='CopayDeductibleConfig',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('annual_deductible', models.IntegerField(default=0, help_text='Annual deductible in XOF')),
                ('out_of_pocket_maximum', models.IntegerField(blank=True, help_text='Annual OOP max in XOF', null=True)),
                ('copay_consultation', models.IntegerField(default=0, help_text='Fixed copay for consultations')),
                ('copay_specialist', models.IntegerField(default=0, help_text='Fixed copay for specialists')),
                ('copay_emergency', models.IntegerField(default=0, help_text='Fixed copay for emergency')),
                ('copay_prescription_generic', models.IntegerField(default=0)),
                ('copay_prescription_brand', models.IntegerField(default=0)),
                ('copay_lab_test', models.IntegerField(default=0)),
                ('copay_imaging', models.IntegerField(default=0)),
                ('coinsurance_percentage', models.DecimalField(decimal_places=2, default=0, help_text="Patient's share after deductible", max_digits=5)),
                ('deductible_applies_to_prescriptions', models.BooleanField(default=True)),
                ('deductible_applies_to_preventive', models.BooleanField(default=False, help_text='Preventive care exempt from deductible')),
                ('family_deductible_multiplier', models.DecimalField(decimal_places=1, default=2.0, max_digits=3)),
                ('effective_date', models.DateField(default=django.utils.timezone.now)),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_package', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='copay_configs', to='insurance.insurancepackage')),
            ],
            options={
                'db_table': 'copay_deductible_configs',
                'indexes': [models.Index(fields=['insurance_package'], name='copay_deduc_insuran_60a918_idx'), models.Index(fields=['effective_date'], name='copay_deduc_effecti_b08d0b_idx')],
            },
        ),
        migrations.CreateModel(
            name='FraudAlert',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('alert_number', models.CharField(max_length=100, unique=True)),
                ('alert_type', models.CharField(choices=[('duplicate_claim', 'Duplicate Claim Detected'), ('unusual_billing_pattern', 'Unusual Billing Pattern'), ('service_not_covered', 'Service Not Covered'), ('provider_outlier', 'Provider Statistical Outlier'), ('member_outlier', 'Member Usage Outlier'), ('upcoding_suspected', 'Upcoding Suspected'), ('phantom_billing', 'Phantom Billing Suspected'), ('identity_theft', 'Possible Identity Theft'), ('unbundling', 'Service Unbundling Detected')], max_length=50)),
                ('severity', models.CharField(choices=[('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], max_length=20)),
                ('status', models.CharField(choices=[('detected', 'Alert Detected'), ('under_investigation', 'Under Investigation'), ('confirmed_fraud', 'Confirmed Fraud'), ('false_positive', 'False Positive'), ('resolved', 'Resolved')], default='detected', max_length=50)),
                ('detection_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('pattern_description', models.TextField()),
                ('evidence_data', models.JSONField(default=dict, help_text='Data supporting the alert')),
                ('risk_score', models.IntegerField(help_text='Fraud risk score 0-100')),
                ('potential_loss_amount', models.IntegerField(default=0)),
                ('related_claims', models.JSONField(blank=True, default=list, help_text='List of related claim IDs')),
                ('investigation_notes', models.TextField(blank=True)),
                ('investigation_start_date', models.DateField(blank=True, null=True)),
                ('investigation_end_date', models.DateField(blank=True, null=True)),
                ('outcome', models.TextField(blank=True)),
                ('action_taken', models.TextField(blank=True)),
                ('recovery_amount', models.IntegerField(default=0)),
                ('law_enforcement_notified', models.BooleanField(default=False)),
                ('law_enforcement_case_number', models.CharField(blank=True, max_length=100)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assigned_investigator', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fraud_investigations', to=settings.AUTH_USER_MODEL)),
                ('claim', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fraud_alerts', to='insurance.insuranceclaim')),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fraud_alerts', to=settings.AUTH_USER_MODEL)),
                ('member', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fraud_alerts_member', to=settings.AUTH_USER_MODEL)),
                ('provider', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fraud_alerts_provider', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'fraud_alerts',
                'ordering': ['-detection_date'],
                'indexes': [models.Index(fields=['insurance_company', 'status'], name='fraud_alert_insuran_8d3572_idx'), models.Index(fields=['alert_type', 'severity'], name='fraud_alert_alert_t_8e5bce_idx'), models.Index(fields=['provider'], name='fraud_alert_provide_84a2b2_idx'), models.Index(fields=['member'], name='fraud_alert_member__ff17c9_idx'), models.Index(fields=['detection_date'], name='fraud_alert_detecti_021fff_idx'), models.Index(fields=['risk_score'], name='fraud_alert_risk_sc_836448_idx')],
            },
        ),
        migrations.CreateModel(
            name='GracePeriod',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('original_due_date', models.DateField()),
                ('grace_period_start', models.DateField()),
                ('grace_period_end', models.DateField()),
                ('grace_period_days', models.IntegerField(default=30)),
                ('amount_due', models.IntegerField()),
                ('late_fee', models.IntegerField(default=0)),
                ('total_amount_due', models.IntegerField()),
                ('status', models.CharField(choices=[('active', 'Grace Period Active'), ('payment_received', 'Payment Received'), ('expired', 'Grace Period Expired')], default='active', max_length=50)),
                ('reminder_sent_count', models.IntegerField(default=0)),
                ('last_reminder_sent', models.DateField(blank=True, null=True)),
                ('payment_received', models.BooleanField(default=False)),
                ('payment_date', models.DateField(blank=True, null=True)),
                ('coverage_suspended_during_grace', models.BooleanField(default=False)),
                ('termination_notice_sent', models.BooleanField(default=False)),
                ('termination_notice_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grace_periods', to='insurance.insuranceinvoice')),
                ('subscription', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grace_periods', to='insurance.insurancesubscription')),
            ],
            options={
                'db_table': 'grace_periods',
                'indexes': [models.Index(fields=['subscription', 'status'], name='grace_perio_subscri_b93e7f_idx'), models.Index(fields=['grace_period_end', 'status'], name='grace_perio_grace_p_39a1bd_idx')],
            },
        ),
        migrations.CreateModel(
            name='MedicalNecessityReview',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('review_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('diagnosis_code', models.CharField(blank=True, max_length=50)),
                ('procedure_code', models.CharField(blank=True, max_length=50)),
                ('clinical_rationale', models.TextField(blank=True)),
                ('medical_records_reviewed', models.TextField(blank=True)),
                ('review_status', models.CharField(choices=[('pending', 'Pending Review'), ('approved', 'Medically Necessary'), ('denied', 'Not Medically Necessary'), ('additional_info_needed', 'Need More Information')], default='pending', max_length=50)),
                ('denial_reason', models.TextField(blank=True)),
                ('alternative_treatment_suggested', models.TextField(blank=True)),
                ('peer_review_required', models.BooleanField(default=False)),
                ('final_decision', models.TextField(blank=True)),
                ('appeal_deadline', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('claim', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='medical_reviews', to='insurance.insuranceclaim')),
                ('peer_reviewer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='peer_reviews_conducted', to=settings.AUTH_USER_MODEL)),
                ('reviewer', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='medical_reviews_conducted', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'medical_necessity_reviews',
                'indexes': [models.Index(fields=['claim'], name='medical_nec_claim_i_2da014_idx'), models.Index(fields=['review_status'], name='medical_nec_review__cfebb0_idx'), models.Index(fields=['review_date'], name='medical_nec_review__a7505e_idx')],
            },
        ),
        migrations.CreateModel(
            name='MembershipRenewal',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('current_term_end_date', models.DateField()),
                ('renewal_date', models.DateField()),
                ('renewal_premium', models.IntegerField()),
                ('notification_sent_date', models.DateField(blank=True, null=True)),
                ('member_confirmed', models.BooleanField(default=False)),
                ('member_confirmation_date', models.DateField(blank=True, null=True)),
                ('auto_renewed', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('upcoming', 'Renewal Upcoming'), ('notified', 'Member Notified'), ('renewed', 'Renewed'), ('cancelled', 'Cancelled'), ('lapsed', 'Lapsed')], default='upcoming', max_length=50)),
                ('payment_due_date', models.DateField()),
                ('payment_received_date', models.DateField(blank=True, null=True)),
                ('grace_period_ends', models.DateField(blank=True, null=True)),
                ('cancellation_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('new_subscription', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='renewal_from', to='insurance.insurancesubscription')),
                ('subscription', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='renewals', to='insurance.insurancesubscription')),
            ],
            options={
                'db_table': 'membership_renewals',
                'indexes': [models.Index(fields=['subscription', 'status'], name='membership__subscri_6f3822_idx'), models.Index(fields=['renewal_date'], name='membership__renewal_1e4442_idx'), models.Index(fields=['status'], name='membership__status_9299f1_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProviderContract',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('contract_number', models.CharField(max_length=100, unique=True)),
                ('contract_type', models.CharField(choices=[('fee_for_service', 'Fee-for-Service'), ('capitation', 'Capitation'), ('case_rate', 'Case Rate'), ('per_diem', 'Per Diem')], max_length=50)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('under_negotiation', 'Under Negotiation'), ('pending_approval', 'Pending Approval'), ('active', 'Active'), ('expired', 'Expired'), ('terminated', 'Terminated')], default='draft', max_length=50)),
                ('effective_date', models.DateField()),
                ('termination_date', models.DateField(blank=True, null=True)),
                ('auto_renew', models.BooleanField(default=False)),
                ('renewal_notice_days', models.IntegerField(default=90)),
                ('payment_terms', models.CharField(default='Net 30', max_length=255)),
                ('reimbursement_rates', models.JSONField(default=dict, help_text='Fee schedule or rates')),
                ('capitation_amount_per_member', models.IntegerField(blank=True, null=True)),
                ('services_covered', models.JSONField(default=list)),
                ('quality_metrics', models.JSONField(blank=True, default=list)),
                ('performance_bonus_structure', models.JSONField(blank=True, default=dict)),
                ('claim_submission_deadline_days', models.IntegerField(default=90)),
                ('credentialing_requirements', models.TextField(blank=True)),
                ('termination_clause', models.TextField(blank=True)),
                ('dispute_resolution_process', models.TextField(blank=True)),
                ('contract_document_url', models.URLField(blank=True)),
                ('signed_by_provider', models.BooleanField(default=False)),
                ('provider_signature_date', models.DateField(blank=True, null=True)),
                ('signed_by_insurance', models.BooleanField(default=False)),
                ('insurance_signature_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='provider_contracts', to=settings.AUTH_USER_MODEL)),
                ('provider', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='insurance_contracts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'provider_contracts',
                'indexes': [models.Index(fields=['insurance_company', 'status'], name='provider_co_insuran_df76fc_idx'), models.Index(fields=['provider', 'status'], name='provider_co_provide_011fcb_idx'), models.Index(fields=['contract_number'], name='provider_co_contrac_4e8511_idx'), models.Index(fields=['effective_date', 'termination_date'], name='provider_co_effecti_a9a951_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProviderCredential',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('credential_number', models.CharField(max_length=100, unique=True)),
                ('application_date', models.DateField(default=django.utils.timezone.now)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('expiration_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('application_received', 'Application Received'), ('under_review', 'Under Review'), ('verification_in_progress', 'Verification in Progress'), ('approved', 'Approved'), ('denied', 'Denied'), ('suspended', 'Suspended'), ('expired', 'Expired')], default='application_received', max_length=50)),
                ('license_number', models.CharField(blank=True, max_length=100)),
                ('license_verified', models.BooleanField(default=False)),
                ('license_verification_date', models.DateField(blank=True, null=True)),
                ('board_certification', models.CharField(blank=True, max_length=255)),
                ('board_cert_verified', models.BooleanField(default=False)),
                ('malpractice_insurance', models.CharField(blank=True, max_length=255)),
                ('malpractice_verified', models.BooleanField(default=False)),
                ('dea_number', models.CharField(blank=True, max_length=50)),
                ('npi_number', models.CharField(blank=True, max_length=50)),
                ('education_credentials', models.JSONField(blank=True, default=list)),
                ('hospital_affiliations', models.JSONField(blank=True, default=list)),
                ('references_checked', models.BooleanField(default=False)),
                ('background_check_completed', models.BooleanField(default=False)),
                ('credentialing_committee_approved', models.BooleanField(default=False)),
                ('committee_approval_date', models.DateField(blank=True, null=True)),
                ('recredentialing_due_date', models.DateField(blank=True, null=True)),
                ('denial_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='provider_credentials', to=settings.AUTH_USER_MODEL)),
                ('provider', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='insurance_credentials', to=settings.AUTH_USER_MODEL)),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='credentials_verified', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'provider_credentials',
                'indexes': [models.Index(fields=['insurance_company', 'status'], name='provider_cr_insuran_71cdff_idx'), models.Index(fields=['provider'], name='provider_cr_provide_f0f546_idx'), models.Index(fields=['credential_number'], name='provider_cr_credent_cb295b_idx'), models.Index(fields=['expiration_date'], name='provider_cr_expirat_559b29_idx')],
            },
        ),
        migrations.CreateModel(
            name='ProviderPerformance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('measurement_period_start', models.DateField()),
                ('measurement_period_end', models.DateField()),
                ('total_claims_submitted', models.IntegerField(default=0)),
                ('total_claims_approved', models.IntegerField(default=0)),
                ('total_claims_denied', models.IntegerField(default=0)),
                ('average_claim_amount', models.IntegerField(default=0)),
                ('total_reimbursed', models.IntegerField(default=0)),
                ('claims_denial_rate', models.DecimalField(decimal_places=2, default=0, help_text='Percentage', max_digits=5)),
                ('average_claim_processing_days', models.DecimalField(decimal_places=1, default=0, max_digits=5)),
                ('patient_complaints_count', models.IntegerField(default=0)),
                ('quality_score', models.DecimalField(blank=True, decimal_places=2, help_text='0-100', max_digits=5, null=True)),
                ('cost_efficiency_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('member_satisfaction_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('readmission_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('preventive_care_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('outlier_flag', models.BooleanField(default=False, help_text='Statistical outlier detected')),
                ('outlier_reason', models.TextField(blank=True)),
                ('performance_tier', models.CharField(blank=True, choices=[('excellent', 'Excellent'), ('good', 'Good'), ('average', 'Average'), ('below_average', 'Below Average'), ('poor', 'Poor')], max_length=20)),
                ('bonus_earned', models.IntegerField(default=0, help_text='Performance bonus in XOF')),
                ('penalty_assessed', models.IntegerField(default=0, help_text='Performance penalty in XOF')),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('insurance_company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='provider_performance_records', to=settings.AUTH_USER_MODEL)),
                ('provider', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='performance_records', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'provider_performance',
                'ordering': ['-measurement_period_end'],
                'indexes': [models.Index(fields=['insurance_company', 'provider'], name='provider_pe_insuran_4c64e7_idx'), models.Index(fields=['measurement_period_start', 'measurement_period_end'], name='provider_pe_measure_481d1e_idx'), models.Index(fields=['outlier_flag'], name='provider_pe_outlier_fc351e_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='servicecategory',
            index=models.Index(fields=['insurance_company', 'is_active'], name='service_cat_insuran_bd2bbd_idx'),
        ),
        migrations.AddIndex(
            model_name='servicecategory',
            index=models.Index(fields=['category_code'], name='service_cat_categor_312d32_idx'),
        ),
        migrations.AddIndex(
            model_name='feeschedule',
            index=models.Index(fields=['insurance_company', 'is_active'], name='fee_schedul_insuran_00e045_idx'),
        ),
        migrations.AddIndex(
            model_name='feeschedule',
            index=models.Index(fields=['service_code'], name='fee_schedul_service_b6c4cb_idx'),
        ),
        migrations.AddIndex(
            model_name='feeschedule',
            index=models.Index(fields=['service_category'], name='fee_schedul_service_6d2a6a_idx'),
        ),
        migrations.AddIndex(
            model_name='coveragerule',
            index=models.Index(fields=['insurance_package', 'is_active'], name='coverage_ru_insuran_0df814_idx'),
        ),
        migrations.AddIndex(
            model_name='coveragerule',
            index=models.Index(fields=['service_category'], name='coverage_ru_service_3c101b_idx'),
        ),
        migrations.AddIndex(
            model_name='claimadjudicationrule',
            index=models.Index(fields=['insurance_company', 'is_active'], name='claim_adjud_insuran_a406ae_idx'),
        ),
        migrations.AddIndex(
            model_name='claimadjudicationrule',
            index=models.Index(fields=['rule_type'], name='claim_adjud_rule_ty_7bdecc_idx'),
        ),
        migrations.AddIndex(
            model_name='claimadjudicationrule',
            index=models.Index(fields=['priority_order'], name='claim_adjud_priorit_68dd45_idx'),
        ),
        migrations.AddIndex(
            model_name='underwritingapplication',
            index=models.Index(fields=['application_number'], name='underwritin_applica_eefd44_idx'),
        ),
        migrations.AddIndex(
            model_name='underwritingapplication',
            index=models.Index(fields=['status'], name='underwritin_status_aa16f9_idx'),
        ),
        migrations.AddIndex(
            model_name='underwritingapplication',
            index=models.Index(fields=['submission_date'], name='underwritin_submiss_cb60f7_idx'),
        ),
        migrations.AddIndex(
            model_name='riskassessment',
            index=models.Index(fields=['risk_level'], name='risk_assess_risk_le_e2dd80_idx'),
        ),
        migrations.AddIndex(
            model_name='riskassessment',
            index=models.Index(fields=['assessment_date'], name='risk_assess_assessm_a99a83_idx'),
        ),
    ]
